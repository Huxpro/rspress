{"version":3,"file":"static/js/async/docs_en_plugin_system_write-a-plugin_mdx.27ff43f1.js","sources":["./docs/en/plugin/system/write-a-plugin.mdx"],"sourcesContent":["globalThis.__RSPRESS_PAGE_META ||= {};\nglobalThis.__RSPRESS_PAGE_META[\"en%2Fplugin%2Fsystem%2Fwrite-a-plugin.mdx\"] = {\"toc\":[{\"id\":\"1-define-a-plugin\",\"text\":\"1. Define a plugin\",\"depth\":3},{\"id\":\"2-use-a-plugin\",\"text\":\"2. Use a plugin\",\"depth\":3}],\"title\":\"Write a plugin\",\"frontmatter\":{}};\n/*@jsxRuntime automatic @jsxImportSource react*/\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    a: \"a\",\n    p: \"p\",\n    h3: \"h3\",\n    pre: \"pre\",\n    code: \"code\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h1, {\n      id: \"write-a-plugin\",\n      children: [_jsx(_components.a, {\n        className: \"header-anchor\",\n        \"aria-hidden\": \"true\",\n        href: \"#write-a-plugin\",\n        children: \"#\"\n      }), \"Write a plugin\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Let's inject a global component as an example to see how to define and use plugins.\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"1-define-a-plugin\",\n      children: [_jsx(_components.a, {\n        className: \"header-anchor\",\n        \"aria-hidden\": \"true\",\n        href: \"#1-define-a-plugin\",\n        children: \"#\"\n      }), \"1. Define a plugin\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        meta: \"title=\\\"plugin.ts\\\"\",\n        children: \"import { RspressPlugin } from '@rspress/shared';\\n\\nexport function pluginMonitor(slug: string): RspressPlugin {\\n  // Component path, you need to implement the content of the component yourself\\n  const componentPath = path.join(__dirname, 'Example.tsx');\\n  return {\\n    name: 'plugin-monitor',\\n    // Path to global components\\n    globalUIComponents: [componentPath],\\n    // Global variable definitions for build phase\\n    builderConfig: {\\n      source: {\\n        define: {\\n          'process.env.SLUG': JSON.stringify(slug),\\n        },\\n      },\\n    },\\n  };\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        meta: \"title=\\\"Example.tsx\\\"\",\n        children: \"import React from 'react';\\n\\nconst Example = () => {\\n  console.log(process.env.SLUG);\\n  return <div>Example</div>;\\n};\\n\\nexport default Example;\\n\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A plugin is generally a function that receives some plugin params (optional) and returns an object that contains the name of the plugin and other config.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"In the above example, we define a plugin named \", _jsx(_components.code, {\n        children: \"plugin-example\"\n      }), \", which will define a global environment variable \", _jsx(_components.code, {\n        children: \"slug\"\n      }), \" during the build phase, and inject a global component \", _jsx(_components.code, {\n        children: \"Example.tsx\"\n      }), \" in the document.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"2-use-a-plugin\",\n      children: [_jsx(_components.a, {\n        className: \"header-anchor\",\n        \"aria-hidden\": \"true\",\n        href: \"#2-use-a-plugin\",\n        children: \"#\"\n      }), \"2. Use a plugin\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Register plugins via \", _jsx(_components.code, {\n        children: \"doc.plugins\"\n      }), \" in \", _jsx(_components.code, {\n        children: \"rspress.config.ts\"\n      }), \":\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        meta: \"title=\\\"rspress.config.ts\\\"\",\n        children: \"import { pluginExample } from './plugin';\\n\\nexport default {\\n  plugins: [pluginMonitor('test')],\\n};\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Then the \", _jsx(_components.code, {\n        children: \"Example\"\n      }), \" component will be injected into the page and we can access the \", _jsx(_components.code, {\n        children: \"slug\"\n      }), \" variable in the component.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nexport default MDXContent;\n"],"names":["_createMdxContent","props","_components","Object","assign","h1","a","p","h3","pre","code","components","children","id","className","href","meta","globalThis","__RSPRESS_PAGE_META","MDXLayout","wrapper"],"mappings":"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"}